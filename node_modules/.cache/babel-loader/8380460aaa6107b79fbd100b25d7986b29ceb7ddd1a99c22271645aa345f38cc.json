{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bellaxia/Desktop/today-I-learned/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bellaxia/Desktop/today-I-learned/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/bellaxia/Desktop/today-I-learned/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import supabase from\"./supabase\";import Loader from\"./Loader.js\";import Header from\"./Header.js\";import NewFactForm from\"./NewFactForm.js\";import CategoryFilter from\"./CategoryFilter.js\";import FactList from\"./FactList.js\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),facts=_useState2[0],setFacts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showForm=_useState4[0],setShowForm=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(\"all\"),_useState8=_slicedToArray(_useState7,2),currentCategory=_useState8[0],setCurrentCategory=_useState8[1];useEffect(function(){function getFacts(){return _getFacts.apply(this,arguments);}function _getFacts(){_getFacts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var query,_yield$query$order,facts,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setIsLoading(true);query=supabase.from(\"facts\").select(\"*\");if(currentCategory!==\"all\"){query=query.eq(\"category\",currentCategory);}_context.next=5;return query.order(\"votesInteresting\",{ascending:false});case 5:_yield$query$order=_context.sent;facts=_yield$query$order.data;error=_yield$query$order.error;if(!error)setFacts(facts);else alert(\"There was a problem getting data\");setIsLoading(false);case 10:case\"end\":return _context.stop();}},_callee);}));return _getFacts.apply(this,arguments);}getFacts();},[currentCategory]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{showForm:showForm,setShowForm:setShowForm}),showForm?/*#__PURE__*/_jsx(NewFactForm,{facts:facts,setFacts:setFacts,setShowForm:setShowForm}):null,/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsx(CategoryFilter,{currentCategory:currentCategory,setCurrentCategory:setCurrentCategory}),isLoading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(FactList,{facts:facts,setFacts:setFacts})]})]});}export default App;","map":{"version":3,"names":["useEffect","useState","supabase","Loader","Header","NewFactForm","CategoryFilter","FactList","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","facts","setFacts","_useState3","_useState4","showForm","setShowForm","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","currentCategory","setCurrentCategory","getFacts","_getFacts","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","_yield$query$order","error","wrap","_callee$","_context","prev","next","from","select","eq","order","ascending","sent","data","alert","stop","children","className"],"sources":["/Users/bellaxia/Desktop/today-I-learned/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport supabase from \"./supabase\";\nimport Loader from \"./Loader.js\";\nimport Header from \"./Header.js\";\nimport NewFactForm from \"./NewFactForm.js\";\nimport CategoryFilter from \"./CategoryFilter.js\";\nimport FactList from \"./FactList.js\";\nimport \"./style.css\";\n\nfunction App() {\n  const [facts, setFacts] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentCategory, setCurrentCategory] = useState(\"all\");\n\n  useEffect(\n    function () {\n      async function getFacts() {\n        setIsLoading(true);\n\n        let query = supabase.from(\"facts\").select(\"*\");\n        if (currentCategory !== \"all\") {\n          query = query.eq(\"category\", currentCategory);\n        }\n        const { data: facts, error } = await query.order(\"votesInteresting\", {\n          ascending: false,\n        });\n        if (!error) setFacts(facts);\n        else alert(\"There was a problem getting data\");\n        setIsLoading(false);\n      }\n      getFacts();\n    },\n    [currentCategory]\n  );\n  return (\n    <>\n      {/* HEADER */}\n      <Header showForm={showForm} setShowForm={setShowForm} />\n      {showForm ? (\n        <NewFactForm\n          facts={facts}\n          setFacts={setFacts}\n          setShowForm={setShowForm}\n        />\n      ) : null}\n      <main className=\"main\">\n        <CategoryFilter\n          currentCategory={currentCategory}\n          setCurrentCategory={setCurrentCategory}\n        />\n        {isLoading ? (\n          <Loader />\n        ) : (\n          <FactList facts={facts} setFacts={setFacts} />\n        )}\n      </main>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}